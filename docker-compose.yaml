version: '3.8'

services:
  # WebBridge (WebSocket â†” UDP + native WebRTC)
  webbridge:
    build: .
    command: ./bin/webbridge
    ports:
      - "8081:8081"
    volumes:
      - ./certs:/app/certs:ro
    environment:
      - PORT=8081
    restart: unless-stopped

  # Game server (UDP on :9000, spawned per-room at 9100+)
  # Note: Game servers are spawned dynamically by webbridge